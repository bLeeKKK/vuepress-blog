# 类型谓词

```ts
type Fish = {
  name: string;
  swim: () => void;
}

type Bird = {
  name: string;
  fly: () => void;
}

function isFish(pet: Fish | Bird): pet is Fish { // 类型谓词的使用，要求函数必须返回一个布尔值
  return (pet as Fish).swim !== undefined
}

function getSmallPet(): Fish | Bird {
  let fish: Fish = {
    name: "shrakey",
    swim: () => { },
  }
  let bird: Bird = {
    name: "shrakey",
    fly: () => { },
  }
  return true ? fish : bird
}
// 这里推断，就算三目运算符左边虽然是 true，但还是推断为 【Fish | Bird】类型
let p: Fish | Bird = getSmallPet()

if (isFish(p)) { // 不管函数返回什么，经过 if 判断后这个函数后 p 的数据类型都变成了 【Fish】
  p.swim()
} else {
  p.fly()
}
```

